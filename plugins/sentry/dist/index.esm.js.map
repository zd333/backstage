{"version":3,"file":"index.esm.js","sources":["../src/api/mock/mock-api.ts","../src/api/sentry-api.ts","../src/api/production-api.ts","../src/components/ErrorCell/ErrorCell.tsx","../src/components/ErrorGraph/ErrorGraph.tsx","../src/components/SentryIssuesTable/SentryIssuesTable.tsx","../src/components/useProjectSlug.ts","../src/components/SentryIssuesWidget/SentryIssuesWidget.tsx","../src/plugin.ts","../src/extensions.tsx","../src/components/Router.tsx"],"sourcesContent":["/*\n * Copyright 2020 Spotify AB\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SentryIssue } from '../sentry-issue';\nimport { SentryApi } from '../sentry-api';\nimport mockData from './sentry-issue-mock.json';\n\nfunction getMockIssue(): SentryIssue {\n  const randomizedStats = {\n    '12h': new Array(12)\n      .fill(0)\n      .map(() => [0, Math.floor(Math.random() * 100)]),\n  };\n  return {\n    ...mockData,\n    userCount: Math.floor(Math.random() * 1000),\n    stats: randomizedStats,\n  };\n}\nfunction getMockIssues(number: number): SentryIssue[] {\n  return new Array(number).fill(0).map(getMockIssue);\n}\nexport class MockSentryApi implements SentryApi {\n  fetchIssues(): Promise<SentryIssue[]> {\n    return new Promise(resolve => {\n      setTimeout(() => resolve(getMockIssues(14)), 800);\n    });\n  }\n}\n","/*\n * Copyright 2020 Spotify AB\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SentryIssue } from './sentry-issue';\nimport { createApiRef } from '@backstage/core';\n\nexport const sentryApiRef = createApiRef<SentryApi>({\n  id: 'plugin.sentry.service',\n  description: 'Used by the Sentry plugin to make requests',\n});\n\nexport interface SentryApi {\n  fetchIssues(project: string, statsFor: string): Promise<SentryIssue[]>;\n}\n","/*\n * Copyright 2020 Spotify AB\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SentryIssue } from './sentry-issue';\nimport { SentryApi } from './sentry-api';\nimport { DiscoveryApi, IdentityApi } from '@backstage/core';\n\nexport class ProductionSentryApi implements SentryApi {\n  constructor(\n    private readonly discoveryApi: DiscoveryApi,\n    private readonly identityApi: IdentityApi,\n    private readonly organization: string,\n  ) {}\n\n  async fetchIssues(project: string, statsFor: string): Promise<SentryIssue[]> {\n    if (!project) {\n      return [];\n    }\n\n    const apiUrl = `${await this.discoveryApi.getBaseUrl('proxy')}/sentry/api`;\n    const token = await this.identityApi.getIdToken();\n\n    const response = await fetch(\n      `${apiUrl}/0/projects/${this.organization}/${project}/issues/?statsFor=${statsFor}`,\n      {\n        headers: token ? { Authorization: `Bearer ${token}` } : {},\n      },\n    );\n\n    if (response.status >= 400 && response.status < 600) {\n      throw new Error('Failed fetching Sentry issues');\n    }\n\n    return (await response.json()) as SentryIssue[];\n  }\n}\n","/*\n * Copyright 2020 Spotify AB\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { SentryIssue } from '../../api';\nimport { Link, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { BackstageTheme } from '@backstage/theme';\n\nfunction stripText(text: string, maxLength: number) {\n  return text.length > maxLength ? `${text.substr(0, maxLength)}...` : text;\n}\nconst useStyles = makeStyles<BackstageTheme>(theme => ({\n  root: {\n    minWidth: 260,\n    position: 'relative',\n    '&::before': {\n      left: -16,\n      position: 'absolute',\n      width: '4px',\n      height: '100%',\n      content: '\"\"',\n      backgroundColor: theme.palette.status.error,\n      borderRadius: 2,\n    },\n  },\n  text: {\n    marginBottom: 0,\n  },\n}));\n\nexport const ErrorCell = ({ sentryIssue }: { sentryIssue: SentryIssue }) => {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <Link href={sentryIssue.permalink}>\n        <Typography variant=\"body1\" gutterBottom className={classes.text}>\n          {sentryIssue.metadata.type\n            ? stripText(sentryIssue.metadata.type, 28)\n            : '[No type]'}\n        </Typography>\n      </Link>\n      <Typography\n        variant=\"caption\"\n        display=\"block\"\n        gutterBottom\n        className={classes.text}\n      >\n        {sentryIssue.metadata.value &&\n          stripText(sentryIssue.metadata.value, 48)}\n      </Typography>\n    </div>\n  );\n};\n","/*\n * Copyright 2020 Spotify AB\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { SentryIssue } from '../../api';\nimport { Sparklines, SparklinesBars } from 'react-sparklines';\n\nexport const ErrorGraph = ({ sentryIssue }: { sentryIssue: SentryIssue }) => {\n  const data =\n    '12h' in sentryIssue.stats\n      ? sentryIssue.stats['12h']\n      : sentryIssue.stats['24h'];\n\n  return (\n    <Sparklines data={data?.map(([, val]) => val)} svgHeight={48} margin={4}>\n      <SparklinesBars />\n    </Sparklines>\n  );\n};\n","/*\n * Copyright 2020 Spotify AB\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { Table, TableColumn } from '@backstage/core';\nimport { SentryIssue } from '../../api';\nimport { format } from 'timeago.js';\nimport { ErrorCell } from '../ErrorCell/ErrorCell';\nimport { ErrorGraph } from '../ErrorGraph/ErrorGraph';\n\nconst columns: TableColumn[] = [\n  {\n    title: 'Error',\n    render: data => <ErrorCell sentryIssue={data as SentryIssue} />,\n  },\n  {\n    title: 'Graph',\n    render: data => <ErrorGraph sentryIssue={data as SentryIssue} />,\n  },\n  {\n    title: 'First seen',\n    field: 'firstSeen',\n    render: data => {\n      const { firstSeen } = data as SentryIssue;\n      return format(firstSeen);\n    },\n  },\n  {\n    title: 'Last seen',\n    field: 'lastSeen',\n    render: data => {\n      const { lastSeen } = data as SentryIssue;\n      return format(lastSeen);\n    },\n  },\n  {\n    title: 'Events',\n    field: 'count',\n  },\n  {\n    title: 'Users',\n    field: 'userCount',\n  },\n];\n\ntype SentryIssuesTableProps = {\n  sentryIssues: SentryIssue[];\n};\n\nconst SentryIssuesTable = ({ sentryIssues }: SentryIssuesTableProps) => {\n  return (\n    <Table\n      columns={columns}\n      options={{ padding: 'dense', paging: true, search: false, pageSize: 5 }}\n      title=\"Sentry issues\"\n      data={sentryIssues}\n    />\n  );\n};\n\nexport default SentryIssuesTable;\n","/*\n * Copyright 2020 Spotify AB\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Entity } from '@backstage/catalog-model';\n\nexport const SENTRY_PROJECT_SLUG_ANNOTATION = 'sentry.io/project-slug';\n\nexport const useProjectSlug = (entity: Entity) => {\n  return entity?.metadata.annotations?.[SENTRY_PROJECT_SLUG_ANNOTATION] ?? '';\n};\n","/*\n * Copyright 2020 Spotify AB\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Entity } from '@backstage/catalog-model';\nimport {\n  EmptyState,\n  ErrorApi,\n  errorApiRef,\n  InfoCard,\n  InfoCardVariants,\n  MissingAnnotationEmptyState,\n  Progress,\n  useApi,\n} from '@backstage/core';\nimport React, { useEffect } from 'react';\nimport { useAsync } from 'react-use';\nimport { sentryApiRef } from '../../api';\nimport SentryIssuesTable from '../SentryIssuesTable/SentryIssuesTable';\nimport {\n  SENTRY_PROJECT_SLUG_ANNOTATION,\n  useProjectSlug,\n} from '../useProjectSlug';\n\nexport const SentryIssuesWidget = ({\n  entity,\n  statsFor = '24h',\n  variant = 'gridItem',\n}: {\n  entity: Entity;\n  statsFor?: '24h' | '12h';\n  variant?: InfoCardVariants;\n}) => {\n  const errorApi = useApi<ErrorApi>(errorApiRef);\n  const sentryApi = useApi(sentryApiRef);\n\n  const projectId = useProjectSlug(entity);\n\n  const { loading, value, error } = useAsync(\n    () => sentryApi.fetchIssues(projectId, statsFor),\n    [sentryApi, statsFor, projectId],\n  );\n\n  useEffect(() => {\n    if (error) {\n      errorApi.post(error);\n    }\n  }, [error, errorApi]);\n\n  if (loading || !projectId || error) {\n    return (\n      <InfoCard title=\"Sentry issues\" variant={variant}>\n        {loading && <Progress />}\n\n        {!loading && !projectId && (\n          <MissingAnnotationEmptyState\n            annotation={SENTRY_PROJECT_SLUG_ANNOTATION}\n          />\n        )}\n\n        {!loading && error && (\n          <EmptyState\n            missing=\"info\"\n            title=\"No information to display\"\n            description={`There is no Sentry project with id '${projectId}'.`}\n          />\n        )}\n      </InfoCard>\n    );\n  }\n\n  return <SentryIssuesTable sentryIssues={value || []} />;\n};\n","/*\n * Copyright 2020 Spotify AB\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  configApiRef,\n  createApiFactory,\n  createPlugin,\n  createRouteRef,\n  discoveryApiRef,\n  identityApiRef,\n} from '@backstage/core';\nimport { ProductionSentryApi, sentryApiRef } from './api';\n\nexport const rootRouteRef = createRouteRef({\n  path: '/sentry',\n  title: 'Sentry',\n});\n\nexport const sentryPlugin = createPlugin({\n  id: 'sentry',\n  apis: [\n    createApiFactory({\n      api: sentryApiRef,\n      deps: {\n        configApi: configApiRef,\n        discoveryApi: discoveryApiRef,\n        identityApi: identityApiRef,\n      },\n      factory: ({ configApi, discoveryApi, identityApi }) =>\n        new ProductionSentryApi(\n          discoveryApi,\n          identityApi,\n          configApi.getString('sentry.organization'),\n        ),\n    }),\n  ],\n  routes: {\n    root: rootRouteRef,\n  },\n});\n","/*\n * Copyright 2020 Spotify AB\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  createComponentExtension,\n  createRoutableExtension,\n} from '@backstage/core';\nimport { useEntity } from '@backstage/plugin-catalog-react';\nimport React from 'react';\nimport { sentryPlugin, rootRouteRef } from './plugin';\n\nexport const EntitySentryContent = sentryPlugin.provide(\n  createRoutableExtension({\n    mountPoint: rootRouteRef,\n    component: () =>\n      import('./components/SentryIssuesWidget').then(\n        ({ SentryIssuesWidget }) => {\n          const SentryPage = () => {\n            const { entity } = useEntity();\n            return <SentryIssuesWidget entity={entity} statsFor=\"24h\" />;\n          };\n          return SentryPage;\n        },\n      ),\n  }),\n);\n\nexport const EntitySentryCard = sentryPlugin.provide(\n  createComponentExtension({\n    component: {\n      lazy: () =>\n        import('./components/SentryIssuesWidget').then(\n          ({ SentryIssuesWidget }) => {\n            const SentryCard = () => {\n              const { entity } = useEntity();\n              return <SentryIssuesWidget entity={entity} />;\n            };\n            return SentryCard;\n          },\n        ),\n    },\n  }),\n);\n","/*\n * Copyright 2020 Spotify AB\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { Entity } from '@backstage/catalog-model';\nimport { Route, Routes } from 'react-router';\nimport { SentryIssuesWidget } from './SentryIssuesWidget';\n\nexport const Router = ({ entity }: { entity: Entity }) => {\n  return (\n    <Routes>\n      <Route\n        path=\"/\"\n        element={<SentryIssuesWidget entity={entity} statsFor=\"24h\" />}\n      />\n      )\n    </Routes>\n  );\n};\n"],"names":[],"mappings":"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"}